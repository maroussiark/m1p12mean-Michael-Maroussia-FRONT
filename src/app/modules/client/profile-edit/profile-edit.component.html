<div class="profile-edit">
  <h2>Modifier mon profil</h2>

  <form [formGroup]="personalInfoForm" (ngSubmit)="onSubmit()" class="personal-info-form">
    <div class="form-row">
      <div class="form-group">
        <label for="fullName">Nom complet</label>
        <input id="fullName" type="text" formControlName="fullName" placeholder="Votre nom complet">
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" placeholder="Votre email">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="phone">Téléphone</label>
        <input id="phone" type="text" formControlName="phone" placeholder="Votre numéro de téléphone">
      </div>
      <div class="form-group">
        <label for="address">Adresse</label>
        <input id="address" type="text" formControlName="address" placeholder="Votre adresse">
      </div>
    </div>
    <button type="submit" [disabled]="!personalInfoForm.valid">Enregistrer les modifications</button>
  </form>

  <section class="vehicles-section">
    <h3>Véhicules Enregistrés</h3>
    <div class="vehicles-list">
      <div class="vehicle-card" *ngFor="let vehicle of vehicles; let i = index">
        <div class="form-group">
          <label>Marque</label>
          <input type="text" [(ngModel)]="vehicle.brand" name="brand-{{i}}" placeholder="Marque">
        </div>
        <div class="form-group">
          <label>Modèle</label>
          <input type="text" [(ngModel)]="vehicle.model" name="model-{{i}}" placeholder="Modèle">
        </div>
        <div class="form-group">
          <label>Année</label>
          <input type="number" [(ngModel)]="vehicle.year" name="year-{{i}}" placeholder="Année">
        </div>
        <div class="actions">
          <button (click)="onUpdateVehicle(vehicle)">Mettre à jour</button>
          <button (click)="removeVehicle(i)">Supprimer</button>
        </div>
      </div>
    </div>
    <button class="add-vehicle" (click)="addVehicle()">Ajouter un véhicule</button>
  </section>
</div>
